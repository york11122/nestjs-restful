(function(t){function e(e){for(var n,o,s=e[0],c=e[1],l=e[2],u=0,d=[];u<s.length;u++)o=s[u],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&d.push(i[o][0]),i[o]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);p&&p(e);while(d.length)d.shift()();return r.push.apply(r,l||[]),a()}function a(){for(var t,e=0;e<r.length;e++){for(var a=r[e],n=!0,o=1;o<a.length;o++){var s=a[o];0!==i[s]&&(n=!1)}n&&(r.splice(e--,1),t=c(c.s=a[0]))}return t}var n={},o={1:0},i={1:0},r=[];function s(t){return c.p+"js/"+({}[t]||t)+"."+{2:"d5b64c6b",3:"02c28554",4:"8ff58a6c",5:"4939b64b",6:"b1af39c5",7:"bd99718b",8:"5794aa34"}[t]+".js"}function c(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,c),a.l=!0,a.exports}c.e=function(t){var e=[],a={2:1,3:1,4:1,5:1,6:1};o[t]?e.push(o[t]):0!==o[t]&&a[t]&&e.push(o[t]=new Promise((function(e,a){for(var n="css/"+({}[t]||t)+"."+{2:"520c27c1",3:"e389f639",4:"1ac6d5f0",5:"b33dd468",6:"1f3a005b",7:"31d6cfe0",8:"31d6cfe0"}[t]+".css",i=c.p+n,r=document.getElementsByTagName("link"),s=0;s<r.length;s++){var l=r[s],u=l.getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(u===n||u===i))return e()}var d=document.getElementsByTagName("style");for(s=0;s<d.length;s++){l=d[s],u=l.getAttribute("data-href");if(u===n||u===i)return e()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=e,p.onerror=function(e){var n=e&&e.target&&e.target.src||i,r=new Error("Loading CSS chunk "+t+" failed.\n("+n+")");r.code="CSS_CHUNK_LOAD_FAILED",r.request=n,delete o[t],p.parentNode.removeChild(p),a(r)},p.href=i;var m=document.getElementsByTagName("head")[0];m.appendChild(p)})).then((function(){o[t]=0})));var n=i[t];if(0!==n)if(n)e.push(n[2]);else{var r=new Promise((function(e,a){n=i[t]=[e,a]}));e.push(n[2]=r);var l,u=document.createElement("script");u.charset="utf-8",u.timeout=120,c.nc&&u.setAttribute("nonce",c.nc),u.src=s(t);var d=new Error;l=function(e){u.onerror=u.onload=null,clearTimeout(p);var a=i[t];if(0!==a){if(a){var n=e&&("load"===e.type?"missing":e.type),o=e&&e.target&&e.target.src;d.message="Loading chunk "+t+" failed.\n("+n+": "+o+")",d.name="ChunkLoadError",d.type=n,d.request=o,a[1](d)}i[t]=void 0}};var p=setTimeout((function(){l({type:"timeout",target:u})}),12e4);u.onerror=u.onload=l,document.head.appendChild(u)}return Promise.all(e)},c.m=t,c.c=n,c.d=function(t,e,a){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(c.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)c.d(a,n,function(e){return t[e]}.bind(null,n));return a},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="/",c.oe=function(t){throw console.error(t),t};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],u=l.push.bind(l);l.push=e,l=l.slice();for(var d=0;d<l.length;d++)e(l[d]);var p=u;r.push([0,0]),a()})({0:function(t,e,a){t.exports=a("2f39")},"0047":function(t,e,a){},"02b3":function(t,e,a){"use strict";a("1190")},1190:function(t,e,a){},"146e":function(t,e,a){},"2f39":function(t,e,a){"use strict";a.r(e);var n={};a.r(n),a.d(n,"someGetter",(function(){return $}));var o={};a.r(o),a.d(o,"updateGroupState",(function(){return O}));var i={};a.r(i),a.d(i,"someAction",(function(){return T}));var r={};a.r(r),a.d(r,"setGoodsList",(function(){return A}));var s={};a.r(s),a.d(s,"updateGoodsList",(function(){return F}));var c={};a.r(c),a.d(c,"itemList",(function(){return K})),a.d(c,"allItemQnt",(function(){return Y})),a.d(c,"allItemPriceAmount",(function(){return W})),a.d(c,"ItemQnt",(function(){return X}));var l={};a.r(l),a.d(l,"setCart",(function(){return Z})),a.d(l,"addItem",(function(){return tt})),a.d(l,"updateItemQnt",(function(){return et})),a.d(l,"deleteItem",(function(){return at}));var u={};a.r(u),a.d(u,"getMyCart",(function(){return nt})),a.d(u,"addItem",(function(){return ot})),a.d(u,"updateItemQnt",(function(){return it})),a.d(u,"deleteItem",(function(){return rt}));var d={};a.r(d),a.d(d,"user",(function(){return lt})),a.d(d,"loggedIn",(function(){return ut})),a.d(d,"check",(function(){return dt}));var p={};a.r(p),a.d(p,"setUser",(function(){return pt})),a.d(p,"setToken",(function(){return mt}));var m={};a.r(m),a.d(m,"register",(function(){return ft})),a.d(m,"oauthFacebook",(function(){return ht})),a.d(m,"oauthGoogle",(function(){return bt})),a.d(m,"oauthLine",(function(){return gt})),a.d(m,"login",(function(){return vt})),a.d(m,"setToken",(function(){return qt})),a.d(m,"fetch",(function(){return yt})),a.d(m,"logout",(function(){return wt}));a("e6cf"),a("5319"),a("7d6e"),a("e54f"),a("4848"),a("c382"),a("985d"),a("0047");var f=a("2b0e"),h=a("1f91"),b=a("42d2"),g=a("b05d"),v=a("2a19"),q=a("436b"),y=a("515f"),w=a("f508");f["a"].use(g["a"],{config:{},lang:h["a"],iconSet:b["a"],plugins:{Notify:v["a"],Dialog:q["a"],Cookies:y["a"],Loading:w["a"]}});var x=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"q-app"}},[a("router-view")],1)},k=[],_={name:"App"},C=_,Q=a("2877"),P=Object(Q["a"])(C,x,k,!1,null,null,null),L=P.exports,I=a("2f62"),S=function(){return{groupState:!1}};function $(){}const O=(t,e)=>{t.groupState=e};function T(){}var j={namespaced:!0,getters:n,mutations:o,actions:i,state:S},E=function(){return{goodsList:null}},G=a("9a5e");const A=(t,e)=>{t.goodsList=e};var D=a("bc3a"),B=a.n(D),z=a("4328"),N=a.n(z);const M=B.a.create({paramsSerializer:t=>N.a.stringify(t,{arrayFormat:"repeat"}),baseURL:"https://mobile-shop-01.herokuapp.com/"});var V=({store:t,Vue:e,router:a})=>{e.prototype.$api=M,M.interceptors.request.use((t=>{const e=y["a"].get("access-token");return e&&(t.headers["access-token"]=e),t}),(t=>Promise.reject(t))),M.interceptors.response.use((t=>t.data),(e=>{const{response:n}=e;if(n)switch(n.status){case 401:t.dispatch("user/logout"),q["a"].create({title:"登入狀態失效",message:"已登出，請重新登入"}),a.push("/auth");break;case 403:q["a"].create({title:"未授權",message:"請確認身份"});break;case 400:console.log("api呼叫異常");break;case 422:return Promise.reject(e.response.data);case 500:q["a"].create({title:"伺服器異常",message:"請稍待或聯繫客服"});break;default:console.log(`連接錯誤${err.response.status}`)}else v["a"].create({message:"network error",color:"red"});return Promise.reject(e)})),t.dispatch("user/fetch")};const F=async t=>{if(!t.state.goodsList){w["a"].show();const e=await M.get("/product/all");t.commit("setGoodsList",e),w["a"].hide()}};var U={namespaced:!0,state:E,getters:G,mutations:r,actions:s},R=function(){return{itemList:[],itemQnt:[]}},H=a("2ef0"),J=a.n(H);function K(t){return t.itemList.forEach((t=>{t.totalPrice=J.a.sumBy(t.addOn,(t=>t.price))*t.quantity})),t.itemList}function Y(t){return J.a.sumBy(t.itemList,(t=>t.quantity))}function W(t,e){return J.a.sumBy(e.itemList,(t=>t.totalPrice))}const X=t=>e=>t.itemQnt[e];a("a434");const Z=(t,e)=>{t.itemList=e},tt=(t,e)=>{let a=J.a.find(t.itemList,{title:e.title,addOn:e.addOn});a?a.quantity=a.quantity+e.quantity:t.itemList.push(e),t.itemQnt[e.title]?t.itemQnt[e.title]=t.itemQnt[e.title]+e.quantity:t.itemQnt[e.title]=e.quantity},et=(t,{item:e,quantity:a})=>{let n=J.a.find(t.itemList,{title:e.title,addOn:e.addOn});n.quantity=a,t.itemQnt[e.title]=a},at=(t,e)=>{const a=J.a.findIndex(t.itemList,e);t.itemList.splice(a,1),t.itemQnt[e.title]=0};a("a79d");const nt=({commit:t},e)=>new Promise((function(e,a){M.get("/cart/me").then((a=>{t("setCart",a.itemList),e(a)})).catch((t=>{a(t)}))})),ot=({commit:t},e)=>new Promise((function(a,n){M.post("/cart/item",e).then((e=>{t("setCart",e.itemList),a(e)})).catch((t=>{n(t)}))})),it=({commit:t},{item:e,quantity:a})=>{t("updateItemQnt",{item:e,quantity:a})},rt=({commit:t},e)=>new Promise((function(a,n){w["a"].show(),M.delete("/cart/item",{data:{itemId:e}}).then((e=>{t("setCart",e.itemList),a(e)})).catch((t=>{n(t)})).finally((()=>{w["a"].hide()}))}));var st={namespaced:!0,state:R,getters:c,mutations:l,actions:u},ct=function(){return{user:null,token:null}};a("ddb0");function lt(t){return t.user}function ut(t){return!!t.token}const dt=t=>e=>{const a=t.user;if(a){if(Array.isArray(e)&&e.length){for(let t of e)if(!a.roleNames.includes(t))return!1}else if(e&&!a.roleNames.includes(e))return!1;return!0}return!1},pt=(t,e)=>{t.user=e||null},mt=(t,e)=>{t.token=e||null};function ft(t,e){return M.post("/user",e)}function ht(t,e){return M.post("/auth/facebook",e)}function bt(t,e){return M.post("/auth/google",e)}const gt=async(t,e)=>new Promise((function(a,n){return M.post("/auth/line",{token:e}).then((e=>{t.dispatch("setToken",{token:e,rememberMe:!0}),t.dispatch("fetch"),a(e)})).catch((t=>{t.code&&n(t)}))})),vt=async(t,e)=>new Promise((function(a,n){return M.post("/auth",e).then((e=>{t.dispatch("setToken",{token:e,rememberMe:!0}),t.dispatch("fetch"),a(e)})).catch((t=>{console.log(t),t.code&&n(t)}))})),qt=(t,e)=>{t.commit("setToken",e.token.accessToken),e.rememberMe?(y["a"].set("access-token",e.token.accessToken,{expires:365}),y["a"].set("refresh-token",e.token.refreshToken)):(y["a"].set("access-token",e.token.accessToken),y["a"].set("refresh-token",e.token.refreshToken))},yt=async t=>{var e=y["a"].get("access-token");if(e){const e=await M.get("/user");t.commit("setUser",e)}},wt=t=>{y["a"].remove("access-token"),y["a"].remove("refresh-token"),t.commit("setUser",null),t.commit("setToken",null),console.log(t.state)};var xt={namespaced:!0,state:ct,getters:d,mutations:p,actions:m};f["a"].use(I["a"]);var kt=function(){const t=new I["a"].Store({modules:{example:j,goodsList:U,shopCart:st,user:xt},strict:!1});return t},_t=(a("c975"),a("8c4f"));const Ct=[{path:"/",name:"index",component:()=>Promise.all([a.e(0),a.e(2)]).then(a.bind(null,"8b24"))},{path:"/notification",component:()=>a.e(4).then(a.bind(null,"4de0"))},{path:"/purchase",component:()=>a.e(5).then(a.bind(null,"4c6d"))},{path:"/user",component:()=>a.e(6).then(a.bind(null,"5ca4"))},{path:"/auth",component:()=>a.e(3).then(a.bind(null,"62cc"))},{path:"/line",component:()=>Promise.all([a.e(0),a.e(8)]).then(a.bind(null,"d1b1"))},{path:"*",component:()=>a.e(7).then(a.bind(null,"e51e"))}];var Qt=Ct,Pt=({store:t,Vue:e})=>{e.prototype.$axios=B.a};let Lt={};var It=async({app:t,store:e,Vue:a})=>{Lt.login=t=>e.dispatch("user/login",t),Lt.logout=t=>e.dispatch("user/logout",t),Lt.oauthLine=t=>e.dispatch("user/oauthLine",t),Lt.register=t=>e.dispatch("user",t),Lt.isloggedIn=()=>e.getters["user/loggedIn"],Lt.getUser=()=>e.getters["user/user"]||{},a.prototype.$user=Lt};f["a"].use(_t["a"]);var St=function({store:t,ssrContext:e}){const a=new _t["a"]({scrollBehavior:()=>({x:0,y:0}),routes:Qt,mode:"history",base:"/"}),n=["/auth","/line"];return a.beforeEach((async(t,e,a)=>{console.log("e",Lt.isloggedIn()),Lt.isloggedIn()?(console.log(1),-1!==n.indexOf(t.path)&&a("/")):-1===n.indexOf(t.path)&&a("/auth"),a()})),a},$t=async function(){const t="function"===typeof kt?await kt({Vue:f["a"]}):kt,e="function"===typeof St?await St({Vue:f["a"],store:t}):St;t.$router=e;const a={router:e,store:t,render:t=>t(L),el:"#q-app"};return{app:a,store:t,router:e}},Ot=a("9483");Object(Ot["a"])("/service-worker.js",{ready(){},registered(){},cached(){},updatefound(){},updated(){},offline(){},error(){}});var Tt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("q-layout",{staticStyle:{"min-height":"100vh"},attrs:{container:""}},[a("q-page-container",[a("q-page",[a("q-card",{staticClass:"content",staticStyle:{"min-height":"100vh"}},[a("q-btn",{staticClass:"absolute",staticStyle:{left:"1.2em","z-index":"1",transform:"translateY(33%)"},attrs:{round:"",color:"white",icon:"close",size:"10px","text-color":"black"},on:{click:function(e){return t.setDialog(!1)}}}),a("q-img",{attrs:{src:"https://cdn.quasar.dev/img/chicken-salad.jpg"}}),a("q-card-section",[a("div",{staticClass:"row no-wrap items-center"},[a("div",{staticClass:"col text-h6 ellipsis"},[t._v(t._s(t.goods.title))]),a("div",{staticClass:"col-auto row no-wrap items-center"},[t._v(t._s(t.goods.price)+" $起")])]),a("div",{staticClass:"text-caption text-grey"},[t._v(t._s(t.goods.describe))])]),a("q-separator"),t._l(t.goods.addOn,(function(e,n){return a("q-list",{key:n,staticClass:"text-body1",attrs:{dense:""}},[a("q-item-label",{staticClass:"text-h6",attrs:{header:""}},[t._v(t._s(e.name))]),t._l(e.options,(function(o,i){return a("q-item",{key:i,attrs:{tag:"label"}},[a("q-item-section",{attrs:{avatar:""}},[a("q-radio",{attrs:{val:o.value,color:"primary",name:e.name},model:{value:t.tempGoods.addOn[n].value,callback:function(e){t.$set(t.tempGoods.addOn[n],"value",e)},expression:"tempGoods.addOn[i].value"}})],1),a("q-item-section",[a("q-item-label",[t._v(t._s(o.name))])],1),a("q-item-section",{attrs:{side:""}},[a("q-item-label",{staticClass:"text-body1"},[t._v("+$ "+t._s(o.price))])],1)],1)}))],2)}))],2),a("q-page-scroller",{attrs:{expand:"",position:"top","scroll-offset":30,offset:[0,0]}},[a("q-toolbar",{staticClass:"bg-primary"},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",dense:"",icon:"close","text-color":"white"},on:{click:function(e){return t.setDialog(!1)}}}),a("q-toolbar-title",{staticClass:"text-weight-bold text-white"},[t._v(t._s(t.goods.title))])],1)],1)],1)],1)],1),a("q-card",{staticClass:"fixed-bottom"},[a("q-card-actions",{staticClass:"justify-around"},[a("q-card",{staticClass:"q-gutter-x-xs",attrs:{flat:""}},[a("q-btn",{attrs:{round:"",size:"12px",disable:1===t.tempGoods.quantity,color:"primary",icon:"remove","text-color":"white"},on:{click:function(e){t.tempGoods.quantity--}}}),a("q-btn",{attrs:{flat:"",disable:"",size:"15px"}},[t._v(t._s(t.tempGoods.quantity))]),a("q-btn",{attrs:{round:"",size:"12px",color:"primary",icon:"add","text-color":"white"},on:{click:function(e){t.tempGoods.quantity++}}})],1),a("q-btn",{attrs:{flat:"",color:"primary",loading:t.isLoading},on:{click:function(e){return t.addCart(t.goods._id)}}},[t._v("加入購物車")])],1)],1)],1)},jt=[],Et={props:["value","goods"],watch:{value(t){this.dialog=t},dialog(t){this.$emit("input",t)}},created(){this.init()},methods:{init(){this.tempGoods.productId=this.goods._id,this.tempGoods.title=this.goods.title,this.goods.addOn.forEach((t=>{this.tempGoods.addOn.push({name:t.name,value:t.options[0].value,price:t.options[0].price})}))},setDialog(t){this.dialog=t},async addCart(t){console.log(this.tempGoods),this.isLoading=!0,this.$store.dispatch("shopCart/addItem",this.tempGoods).then((t=>{this.isLoading=!1,this.$q.notify({message:`商品${this.tempGoods.title} 加入購物車`,color:"primary",position:"top",timeout:2e3}),this.setDialog(!1)}))}},data(){return{dialog:this.value,isLoading:!1,tempGoods:{productId:"",quantity:1,addOn:[]}}}},Gt=Et,At=(a("b466"),a("4d5a")),Dt=a("09e3"),Bt=a("9989"),zt=a("f09f"),Nt=a("9c40"),Mt=a("068f"),Vt=a("a370"),Ft=a("eb85"),Ut=a("1c1c"),Rt=a("0170"),Ht=a("66e5"),Jt=a("4074"),Kt=a("3786"),Yt=a("5096"),Wt=a("65c6"),Xt=a("6ac5"),Zt=a("4b7e"),te=a("7f67"),ee=a("eebe"),ae=a.n(ee),ne=Object(Q["a"])(Gt,Tt,jt,!1,null,"316274f6",null),oe=ne.exports;ae()(ne,"components",{QLayout:At["a"],QPageContainer:Dt["a"],QPage:Bt["a"],QCard:zt["a"],QBtn:Nt["a"],QImg:Mt["a"],QCardSection:Vt["a"],QSeparator:Ft["a"],QList:Ut["a"],QItemLabel:Rt["a"],QItem:Ht["a"],QItemSection:Jt["a"],QRadio:Kt["a"],QPageScroller:Yt["a"],QToolbar:Wt["a"],QToolbarTitle:Xt["a"],QCardActions:Zt["a"]}),ae()(ne,"directives",{ClosePopup:te["a"]});var ie=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",[a("q-layout",{staticStyle:{"min-height":"100vh"},attrs:{container:""}},[a("q-header",[a("q-toolbar",{staticClass:"bg-primary"},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",dense:"",icon:"close","text-color":"white"},on:{click:function(e){return t.setDialog(!1)}}}),a("q-toolbar-title",{staticClass:"text-weight-bold text-white"},[t._v("購物車")])],1)],1),a("q-page-container",{staticClass:"scroll"},[a("q-page",[a("q-card",{staticClass:"content",staticStyle:{"min-height":"100vh"}},[a("div",[a("q-list",{attrs:{bordered:"",padding:""}},[a("q-item",[a("q-item-section",[a("q-item-label",{attrs:{overline:""}},[t._v("OVERLINE")]),a("q-item-label",[t._v("Single line item")]),a("q-item-label",{attrs:{caption:""}},[t._v("Secondary line text. Lorem ipsum dolor sit amet, consectetur adipiscit elit.")])],1),a("q-item-section",{attrs:{side:"",top:""}},[a("q-item-label",{attrs:{caption:""}},[t._v("5 min ago")])],1)],1),a("q-separator",{attrs:{spaced:""}}),a("q-list",{attrs:{separator:""}},t._l(t.itemList,(function(e,n){return a("q-item",{key:n},[a("q-item-section",{attrs:{avatar:""}},[a("q-fab",{attrs:{color:"primary",push:"",label:e.quantity,"hide-icon":"",outline:"",persistent:"",square:"",padding:"sm",direction:"right"}},[a("q-fab-action",{attrs:{color:"white","text-color":"primary",square:"",icon:"remove",disable:e.quantity<=1},on:{click:function(a){return t.updateItemQnt(e,e.quantity-1)}}}),a("q-fab-action",{attrs:{"text-color":"primary",color:"white",square:"",icon:"add"},on:{click:function(a){return t.updateItemQnt(e,e.quantity+1)}}}),a("q-fab-action",{attrs:{"text-color":"primary",color:"white",square:"",icon:"delete"},on:{click:function(a){return t.deleteItem(e)}}})],1)],1),a("q-item-section",[a("q-item-label",{staticClass:"text-primary",attrs:{overline:""}},[t._v(t._s(e.title))]),a("q-item-label",{attrs:{caption:"",lines:"2"}},t._l(e.addOn,(function(e,n){return a("span",{key:n},[t._v(t._s(e.name)+":"+t._s(e.value)+" ")])})),0)],1),a("q-item-section",{attrs:{side:""}},[a("q-item-label",{attrs:{caption:""}},[t._v(t._s(e.totalPrice)+" $")])],1)],1)})),1),a("q-separator",{attrs:{spaced:""}}),a("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{tag:"label"}},[a("q-item-section",{staticClass:"text-body1"},[a("q-item-label",[t._v("請問您需要免洗餐具·吸管嗎？")]),a("q-item-label",{attrs:{caption:""}},[t._v(t._s(t.notif3?"需要，如餐廳有提供會隨單附上":"感謝您一起愛護地球"))])],1),a("q-item-section",{attrs:{side:"",top:""}},[a("q-toggle",{attrs:{color:"red",val:"picture",icon:"restaurant",size:"lg"},model:{value:t.notif3,callback:function(e){t.notif3=e},expression:"notif3"}})],1)],1)],1)],1)])],1)],1)],1)],1),a("q-card",{staticClass:"fixed-bottom text-center q-pa-md"},[a("q-item",{attrs:{dense:""}},[a("q-item-section",{staticClass:"text-left"},[a("q-item-label",{staticClass:"q-pb-xs"},[a("span",{staticClass:"text-subtitle1"},[t._v("總金額")]),a("span",{staticClass:"text-caption text-weight-thin"},[t._v("費用")])])],1),a("q-item-section",{attrs:{side:""}},[a("span",{staticClass:"text-subtitle1 text-weight-bold text-black"},[t._v("$ "+t._s(t.allItemPriceAmount))])])],1),a("q-btn",{staticClass:"full-width",attrs:{size:"18px",color:"primary"},on:{click:function(e){return t.setDialog(!1)}}},[t._v("確認付款方式")])],1)],1)},re=[],se={props:["value"],computed:{itemList(){return this.$store.getters["shopCart/itemList"]},allItemPriceAmount(){return this.$store.getters["shopCart/allItemPriceAmount"]}},watch:{value(t){this.dialog=t},dialog(t){this.$emit("input",t)},itemList(t){0===t.length&&this.$q.dialog({title:"購物車已空",ok:{label:"好"},persistent:!0}).onOk((()=>{this.setDialog(!1)}))}},mounted(){},methods:{setDialog(t){this.dialog=t},updateItemQnt(t,e){this.$store.dispatch("shopCart/updateItemQnt",{item:t,quantity:e})},deleteItem(t){this.$store.dispatch("shopCart/deleteItem",t._id).then((e=>{this.$q.notify({message:`商品${t.item.title} 已移除`,color:"primary",position:"top",timeout:2e3})}))}},data(){return{dialog:this.value,notif3:!1}}},ce=se,le=(a("02b3"),a("e359")),ue=a("c294"),de=a("72db"),pe=a("9564"),me=a("714f"),fe=Object(Q["a"])(ce,ie,re,!1,null,null,null),he=fe.exports;ae()(fe,"components",{QLayout:At["a"],QHeader:le["a"],QToolbar:Wt["a"],QBtn:Nt["a"],QToolbarTitle:Xt["a"],QPageContainer:Dt["a"],QPage:Bt["a"],QCard:zt["a"],QList:Ut["a"],QItem:Ht["a"],QItemSection:Jt["a"],QItemLabel:Rt["a"],QSeparator:Ft["a"],QFab:ue["a"],QFabAction:de["a"],QToggle:pe["a"]}),ae()(fe,"directives",{ClosePopup:te["a"],Ripple:me["a"]});var be=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("q-layout",{staticStyle:{"min-height":"100vh"},attrs:{container:""}},[a("q-header",[a("q-toolbar",{staticClass:"bg-primary"},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",dense:"",icon:"close","text-color":"white"},on:{click:function(e){return t.setDialog(!1)}}}),a("q-toolbar-title",{staticClass:"text-weight-bold text-white"},[t._v("消息"+t._s(t.news.title))])],1)],1),a("q-page-container",{staticClass:"scroll"},[a("q-page",[a("q-card",{staticStyle:{"min-height":"100vh"}},[t._v("\n          消息\n        ")])],1)],1)],1)],1)},ge=[],ve={props:["value","news"],watch:{value(t){this.dialog=t},dialog(t){this.$emit("input",t)}},methods:{setDialog(t){this.dialog=t}},data(){return{dialog:this.value,notif3:!1}}},qe=ve,ye=Object(Q["a"])(qe,be,ge,!1,null,null,null),we=ye.exports;ae()(ye,"components",{QLayout:At["a"],QHeader:le["a"],QToolbar:Wt["a"],QBtn:Nt["a"],QToolbarTitle:Xt["a"],QPageContainer:Dt["a"],QPage:Bt["a"],QCard:zt["a"]}),ae()(ye,"directives",{ClosePopup:te["a"]});var xe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",[a("q-layout",{staticStyle:{"min-height":"100vh"},attrs:{container:""}},[a("q-page-container",{staticClass:"scroll"},[a("q-page",[a("q-card",{staticClass:"q-pa-xs q-pt-md",staticStyle:{"min-height":"100vh"}},[a("q-item",[a("q-item-section",{staticClass:"text-left"},[a("q-item-label",{staticClass:"text-weight-medium text-h6"},[t._v("餐點與朋友共享更美味")])],1),a("q-item-section",{attrs:{side:"",top:""},on:{click:function(e){return t.setDialog(!1)}}},[a("q-icon",{attrs:{name:"keyboard_arrow_down",color:"primary"}})],1)],1),a("q-item",{staticClass:"q-pr-xs",attrs:{dense:""}},[a("q-item-section",{staticClass:"text-left",attrs:{caption:""}},[a("q-item-label",{attrs:{caption:""},on:{click:function(e){return t.setDialog(!1)}}},[a("q-badge",{attrs:{color:"pink-1","text-color":"primary",rounded:""}},[a("q-icon",{staticClass:"q-pa-xs text-primary",attrs:{name:"people",color:"primary",size:"15px  "}}),t._v("\n                    1\n                  ")],1)],1)],1),a("q-item-section",{attrs:{side:""}},[a("q-btn",{attrs:{flat:"",color:"primary"},on:{click:t.cancel_groupbuy}},[t._v("取消團購")])],1)],1),a("q-item",[t._v("\n              現在就邀請現在就邀請現在就邀請現在就邀請現在就邀請現在就邀請現在就邀請現在就邀請現在就邀請現在就邀請\n            ")]),a("div",{staticClass:"q-gutter-y-xs"},[a("q-tabs",{staticClass:"text-grey",attrs:{dense:"",breakpoint:0,align:"left","active-color":"primary","indicator-color":"primary","narrow-indicator":""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[a("q-tab",{attrs:{name:"0","content-class":"q-pb-md"}},[a("q-avatar",{attrs:{color:"primary","text-color":"white",size:"40px"}},[t._v("團主")])],1),a("q-separator",{attrs:{vertical:"",inset:""}}),t._l(7,(function(e){return a("q-tab",{key:e,attrs:{name:e.toString(),"content-class":"q-pb-md"}},[a("q-avatar",{attrs:{color:"primary","text-color":"white",size:"40px"}},[t._v(t._s(e))])],1)}))],2)],1),a("q-separator"),a("q-tab-panels",{attrs:{animated:"",swipeable:""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[a("q-tab-panel",{staticClass:"q-pa-none",attrs:{name:"0"}},[a("q-item",{staticClass:"text-subtitle1"},[a("q-item-section",[a("q-item-label",[t._v("團長餐點")])],1),a("q-item-section",{attrs:{side:""}},[a("q-item-label",[t._v("小計 100$")])],1)],1),a("q-list",{attrs:{dense:""}},t._l(3,(function(e){return a("div",{key:e},[a("q-item",[a("q-item-section",{attrs:{avatar:""}},[a("q-fab",{attrs:{color:"primary",push:"",label:t.count,"hide-icon":"",outline:"",persistent:"",square:"",padding:"sm",direction:"right"}},[a("q-fab-action",{attrs:{color:"white","text-color":"primary",square:"",icon:"remove",disable:1===t.count},on:{click:function(e){t.count--}}}),a("q-fab-action",{attrs:{"text-color":"primary",color:"white",square:"",icon:"add"},on:{click:function(e){t.count++}}}),a("q-fab-action",{attrs:{"text-color":"primary",color:"white",square:"",icon:"delete"}})],1)],1),a("q-item-section",[a("q-item-label",{attrs:{overline:""}},[t._v("餐點")])],1),a("q-item-section",{attrs:{side:""}},[a("q-item-label",{attrs:{caption:""}},[t._v("100$")])],1)],1),a("q-separator",{attrs:{spaced:"",inset:""}})],1)})),0)],1),t._l(7,(function(e){return a("q-tab-panel",{key:e,staticClass:"q-pa-none",attrs:{name:e.toString()}},[a("q-item",{staticClass:"text-subtitle1"},[a("q-item-section",[a("q-item-label",[t._v("團員"+t._s(e)+"餐點")])],1),a("q-item-section",{attrs:{side:""}},[a("q-item-label",[t._v("小計 100$")])],1)],1),a("q-list",{attrs:{dense:""}},t._l(3,(function(e){return a("div",{key:e},[a("q-item",[a("q-item-section",{attrs:{avatar:""}},[a("q-fab",{attrs:{color:"primary",push:"",label:2,"hide-icon":"",outline:"",persistent:"",square:"",padding:"sm",direction:"right",disable:""}})],1),a("q-item-section",[a("q-item-label",{attrs:{overline:""}},[t._v("餐點")])],1),a("q-item-section",{attrs:{side:""}},[a("q-item-label",{attrs:{caption:""}},[t._v("100$")])],1)],1),a("q-separator",{attrs:{spaced:"",inset:""}})],1)})),0)],1)}))],2)],1)],1)],1)],1)],1),a("q-card",{staticClass:"fixed-bottom text-center  q-pa-md"},[a("q-btn",{staticClass:"full-width",attrs:{size:"18px",color:"primary"},on:{click:function(e){return t.setDialog(!1)}}},[t._v("\n      結帳\n    ")])],1)],1)},ke=[],_e={props:["value"],watch:{value(t){this.dialog=t},dialog(t){this.$emit("input",t)}},methods:{setDialog(t){this.dialog=t},cancel_groupbuy(){this.$q.dialog({title:"您目前已是團購訂單的成員",message:"選擇繼續執行，此筆團購單將被取消",cancel:{label:"留在團購",color:"white","text-color":"primary",outline:!0},ok:{label:"繼續執行"},persistent:!0}).onOk((()=>{this.$store.commit("example/updateGroupState",!1),this.setDialog(!1)}))}},data(){return{dialog:this.value,tab:"0",count:0}}},Ce=_e,Qe=a("0016"),Pe=a("58a8"),Le=a("429b"),Ie=a("7460"),Se=a("cb32"),$e=a("adad"),Oe=a("823b"),Te=Object(Q["a"])(Ce,xe,ke,!1,null,null,null),je=Te.exports;ae()(Te,"components",{QLayout:At["a"],QPageContainer:Dt["a"],QPage:Bt["a"],QCard:zt["a"],QItem:Ht["a"],QItemSection:Jt["a"],QItemLabel:Rt["a"],QIcon:Qe["a"],QBadge:Pe["a"],QBtn:Nt["a"],QTabs:Le["a"],QTab:Ie["a"],QAvatar:Se["a"],QSeparator:Ft["a"],QTabPanels:$e["a"],QTabPanel:Oe["a"],QList:Ut["a"],QFab:ue["a"],QFabAction:de["a"]});var Ee=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"q-gutter-y-lg"},[a("q-input",{ref:"account",staticClass:"text-subtitle1",attrs:{placeholder:"請輸入帳號",rules:[function(t){return null!==t&&""!==t||"請輸入帳號"}]},scopedSlots:t._u([{key:"prepend",fn:function(){return[a("q-icon",{attrs:{name:"person",color:"primary"}})]},proxy:!0},{key:"append",fn:function(){return[""!==t.account?a("q-icon",{staticClass:"cursor-pointer",attrs:{name:"close"},on:{click:function(e){t.account=""}}}):t._e()]},proxy:!0}]),model:{value:t.account,callback:function(e){t.account=e},expression:"account"}}),a("q-input",{ref:"password",staticClass:"text-subtitle1",attrs:{placeholder:"請輸入密碼",type:t.isPwd?"password":"text",rules:[function(t){return null!==t&&""!==t||"請輸入密碼"}]},scopedSlots:t._u([{key:"prepend",fn:function(){return[a("q-icon",{attrs:{name:"lock",color:"primary"}})]},proxy:!0},{key:"append",fn:function(){return[a("q-icon",{staticClass:"cursor-pointer",attrs:{name:t.isPwd?"visibility_off":"visibility"},on:{click:function(e){t.isPwd=!t.isPwd}}})]},proxy:!0}]),model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),a("q-btn",{staticClass:"full-width",attrs:{unelevated:"",loading:t.isLoading,color:"primary",size:"18px",label:"登入"},on:{click:t.onClick}})],1)},Ge=[],Ae={props:{isLoading:{type:Boolean,default:!1},hint:{type:String,default:""}},data(){return{isPwd:!0,password:"",account:""}},methods:{onClick(){this.$refs.account.validate(),this.$refs.password.validate(),this.$refs.account.hasError||this.$refs.password.hasError||this.$emit("onLogin",{account:this.account,password:this.password})}}},De=Ae,Be=a("27f9"),ze=Object(Q["a"])(De,Ee,Ge,!1,null,"3e5e8032",null),Ne=ze.exports;ae()(ze,"components",{QInput:Be["a"],QIcon:Qe["a"],QBtn:Nt["a"]});var Me=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"q-gutter-y-lg"},[a("q-input",{staticClass:"text-subtitle1",attrs:{placeholder:"請輸入帳號"},scopedSlots:t._u([{key:"prepend",fn:function(){return[a("q-icon",{attrs:{name:"person",color:"primary"}})]},proxy:!0},{key:"append",fn:function(){return[""!==t.account?a("q-icon",{staticClass:"cursor-pointer",attrs:{name:"close"},on:{click:function(e){t.account=""}}}):t._e()]},proxy:!0}]),model:{value:t.account,callback:function(e){t.account=e},expression:"account"}}),a("q-input",{staticClass:"text-subtitle1",attrs:{placeholder:"請輸入密碼",type:t.isPwd?"password":"text"},scopedSlots:t._u([{key:"prepend",fn:function(){return[a("q-icon",{attrs:{name:"lock",color:"primary"}})]},proxy:!0},{key:"append",fn:function(){return[a("q-icon",{staticClass:"cursor-pointer",attrs:{name:t.isPwd?"visibility_off":"visibility"},on:{click:function(e){t.isPwd=!t.isPwd}}})]},proxy:!0}]),model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),a("q-input",{staticClass:"text-subtitle1",attrs:{placeholder:"再次輸入密碼",type:t.isPwd?"password":"text"},scopedSlots:t._u([{key:"prepend",fn:function(){return[a("q-icon",{attrs:{name:"lock",color:"primary"}})]},proxy:!0},{key:"append",fn:function(){return[a("q-icon",{staticClass:"cursor-pointer",attrs:{name:t.isPwd?"visibility_off":"visibility"},on:{click:function(e){t.isPwd=!t.isPwd}}})]},proxy:!0}]),model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),a("q-btn",{staticClass:"full-width",attrs:{unelevated:"",color:"primary",size:"18px",label:"註冊"}})],1)},Ve=[],Fe={data(){return{isPwd:!0,password:"",account:""}}},Ue=Fe,Re=Object(Q["a"])(Ue,Me,Ve,!1,null,"4cb5096d",null),He=Re.exports;ae()(Re,"components",{QInput:Be["a"],QIcon:Qe["a"],QBtn:Nt["a"]});var Je=async({Vue:t})=>{t.component("goodsInfo",oe),t.component("ShopCart",he),t.component("notification-detail",we),t.component("GroupBuying",je),t.component("Login",Ne),t.component("Register",He)};/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream&&window.navigator.standalone&&a.e(0).then(a.t.bind(null,"a0db",7));const Ke="/";async function Ye(){const{app:t,store:e,router:a}=await $t();let n=!1;const o=t=>{n=!0;const e=Object(t)===t?a.resolve(t).route.fullPath:t;window.location.href=e},i=window.location.href.replace(window.location.origin,""),r=[Pt,Je,It,V];for(let s=0;!1===n&&s<r.length;s++)if("function"===typeof r[s])try{await r[s]({app:t,router:a,store:e,Vue:f["a"],ssrContext:null,redirect:o,urlPath:i,publicPath:Ke})}catch(err){return err&&err.url?void(window.location.href=err.url):void console.error("[Quasar] boot error:",err)}!0!==n&&new f["a"](t)}Ye()},"9a5e":function(t,e){},b466:function(t,e,a){"use strict";a("146e")}});