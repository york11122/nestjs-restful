(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[2],{"4c4b":function(t,a,e){"use strict";e("56eb")},"56eb":function(t,a,e){},"8b24":function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("q-layout",{attrs:{view:"lHh Lpr lff"}},[e("q-header",{attrs:{reveal:""}},[e("q-toolbar",{staticClass:"bg-primary text-white text-center"},[e("q-btn",{staticClass:"q-mr-xs",attrs:{round:"",dense:"",flat:"",icon:"menu"},on:{click:function(a){t.drawerLeft=!t.drawerLeft}}}),e("q-toolbar-title",{staticClass:"text-weight-bold",attrs:{shrink:""}},[t._v("Food York")]),e("q-space"),e("q-btn",{staticClass:"q-mr-xs",attrs:{flat:"",round:"",dense:"",icon:"search"},on:{click:function(a){t.search=!t.search}}}),t.$store.state.example.groupState?t._e():e("q-btn",{staticClass:"q-mr-xs",attrs:{flat:"",round:"",dense:"",icon:"group_add"},on:{click:t.create_groupbuy}}),e("q-btn",{attrs:{flat:"",round:"",dense:"",icon:"notifications",to:"/notification"}},[e("q-badge",{attrs:{color:"white","text-color":"primary",rounded:"",floating:""}},[t._v("4")])],1)],1),t.search?e("div",{staticClass:"q-pa-sm"},[e("q-input",{attrs:{dark:"",dense:"",standout:"",placeholder:"搜尋","input-class":"text-left","bg-color":"pink-3"},on:{blur:t.searchblur},scopedSlots:t._u([{key:"prepend",fn:function(){return[""===t.text?e("q-icon",{attrs:{name:"search"}}):e("q-icon",{staticClass:"cursor-pointer",attrs:{name:"clear"},on:{click:function(a){t.text=""}}})]},proxy:!0}],null,!1,454184618),model:{value:t.text,callback:function(a){t.text=a},expression:"text"}})],1):t._e()],1),e("q-drawer",{attrs:{"content-style":"width:80vw",elevated:""},model:{value:t.drawerLeft,callback:function(a){t.drawerLeft=a},expression:"drawerLeft"}},[e("q-scroll-area",{staticStyle:{height:"calc(100% - 150px)","margin-top":"150px","border-right":"1px solid #ddd"}},[e("q-list",{attrs:{padding:""}},[e("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{clickable:"",to:"/user"}},[e("q-item-section",{attrs:{avatar:""}},[e("q-icon",{attrs:{name:"person"}})],1),e("q-item-section",[t._v("用戶資訊")])],1),e("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{clickable:"",to:"/transactions"}},[e("q-item-section",{attrs:{avatar:""}},[e("q-icon",{attrs:{name:"receipt"}})],1),e("q-item-section",[t._v("訂單記錄")])],1),e("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{clickable:""},on:{click:t.logout}},[e("q-item-section",{attrs:{avatar:""}},[e("q-icon",{attrs:{name:"person"}})],1),e("q-item-section",[t._v("登出")])],1)],1)],1),e("q-card",{staticClass:"absolute-top bg-primary text-white text-body1",staticStyle:{height:"150px"},attrs:{flat:"",bordered:""}},[e("div",{staticClass:"absolute-bottom bg-transparent q-pa-sm"},[e("q-avatar",{staticClass:"q-mb-sm",attrs:{size:"80px"}},[e("img",{attrs:{src:"https://cdn.quasar.dev/img/boy-avatar.png"}})]),e("div",{staticClass:"text-weight-bold"},[t._v(t._s(this.$user.getUser().name))]),e("div",[t._v(t._s(this.$user.getUser()))])],1)])],1),e("q-page-container",[e("q-page",[e("div",{staticClass:"content"},[e("q-tab-panels",{attrs:{animated:"",swipeable:""},model:{value:t.tab,callback:function(a){t.tab=a},expression:"tab"}},t._l(t.goodsList,(function(a,s){return e("q-tab-panel",{key:s,staticClass:"q-pa-none",attrs:{name:s.toString()}},[e("q-list",{attrs:{separator:""}},[e("q-item-label",{staticClass:"text-weight-bolder text-h6",attrs:{header:""}},[t._v(t._s(a.category))]),t._l(a.itemList,(function(a,s){return e("q-item",{key:s,attrs:{clickable:""},on:{click:function(e){return t.openGoodsInfo(a)}}},[e("q-item-section",{attrs:{top:"",avatar:""}},[e("q-avatar",{attrs:{rounded:"",size:"90px"}},[t.ItemQnt(a.title)>0?e("q-badge",{attrs:{color:"primary",floating:"",transparent:""}},[t._v(t._s(t.ItemQnt(a.title)))]):t._e(),e("img",{attrs:{src:"https://cdn.quasar.dev/img/chicken-salad.jpg"}})],1)],1),e("q-item-section",{attrs:{top:""}},[e("q-item-label",[t._v(t._s(a.title))]),e("q-item-label",{attrs:{caption:"",lines:"1"}},[t._v(t._s(a.describe))])],1),e("q-item-section",{attrs:{side:"",top:""}},[t._v(t._s(a.price)+"$")])],1)}))],2)],1)})),1)],1)])],1),e("q-dialog",{attrs:{persistent:"",maximized:!0,"transition-show":"slide-up","transition-hide":"slide-down"},model:{value:t.dialogGoodsInfo,callback:function(a){t.dialogGoodsInfo=a},expression:"dialogGoodsInfo"}},[e("div",[e("goodsInfo",{attrs:{goods:t.chosenGoods},model:{value:t.dialogGoodsInfo,callback:function(a){t.dialogGoodsInfo=a},expression:"dialogGoodsInfo"}})],1)]),e("q-dialog",{attrs:{persistent:"",maximized:!0,"transition-show":"slide-up","transition-hide":"slide-down"},model:{value:t.shopcart_dialog,callback:function(a){t.shopcart_dialog=a},expression:"shopcart_dialog"}},[e("div",[e("ShopCart",{model:{value:t.shopcart_dialog,callback:function(a){t.shopcart_dialog=a},expression:"shopcart_dialog"}})],1)]),e("q-dialog",{attrs:{persistent:"",maximized:!0,"transition-show":"slide-up","transition-hide":"slide-down"},model:{value:t.group_buying_dialog,callback:function(a){t.group_buying_dialog=a},expression:"group_buying_dialog"}},[e("div",[e("GroupBuying",{model:{value:t.group_buying_dialog,callback:function(a){t.group_buying_dialog=a},expression:"group_buying_dialog"}})],1)]),e("q-page-sticky",{attrs:{expand:"",position:"top"}},[e("q-toolbar",{staticClass:"shadow-1 bg-white"},[e("q-tabs",{ref:"tabs",staticClass:"bg-white",attrs:{"inline-label":"",align:"left",shrink:"",stretch:"","indicator-color":"primary","active-color":"primary"},model:{value:t.tab,callback:function(a){t.tab=a},expression:"tab"}},t._l(t.goodsList,(function(t,a){return e("q-tab",{key:a,staticClass:"text-weight-bolder",attrs:{"data-id":a,name:a.toString(),label:t.category}})})),1),e("q-space"),e("q-btn-dropdown",{staticClass:"bg-white",attrs:{"auto-close":"",stretch:"",flat:""}},[e("q-list",{staticStyle:{width:"30vh"}},t._l(t.goodsList,(function(a,s){return e("q-item",{key:s,attrs:{clickable:"","data-id":s,name:s.toString(),label:s},on:{click:function(a){t.tab=s.toString()}}},[e("q-item-section",[t._v(t._s(a.category))])],1)})),1)],1)],1)],1),e("q-page-sticky",{attrs:{expand:"",position:"bottom"}},[t.itemList.length>0&&!1===t.$store.state.example.groupState?e("div",{staticClass:"fixed-bottom bg-white shadow-3 text-center q-pa-md"},[e("q-btn",{staticClass:"full-width",attrs:{size:"18px",color:"primary",loading:!1},on:{click:t.openShopCart}},[e("q-avatar",{attrs:{color:"white","text-color":"primary",size:"32px"}},[t._v(t._s(t.allItemQnt))]),e("q-space"),t._v("查看你的購物車\n        "),e("q-space"),t._v("\n        $"+t._s(t.allItemPriceAmount)+"\n        "),e("q-spinner-dots",{attrs:{slot:"loading",color:"white"},slot:"loading"})],1)],1):t._e(),!0===t.$store.state.example.groupState?e("div",{staticClass:"fixed-bottom bg-white shadow-3 text-center q-pa-xs"},[e("q-item",{attrs:{clickable:""},on:{click:function(a){t.group_buying_dialog=!0}}},[e("q-item-section",{staticClass:"text-left"},[e("q-item-label",[t._v("瀏覽你的團購訂單")]),e("q-item-label",{attrs:{caption:""}},[e("q-badge",{attrs:{color:"pink-1","text-color":"primary",rounded:""}},[e("q-icon",{staticClass:"q-pa-xs text-primary",attrs:{name:"people",color:"primary",size:"15px  "}}),t._v("1\n            ")],1)],1)],1),e("q-item-section",{attrs:{side:"",top:""}},[e("q-icon",{attrs:{color:"primary",name:"keyboard_arrow_up"}})],1)],1)],1):t._e()])],1)},o=[],i=(e("e6cf"),e("a79d"),e("0831"));const{getScrollTarget:r,setScrollPosition:n}=i["a"];var l={data(){return{text:"",tab:"0",dialogGoodsInfo:!1,chosenGoods:{},shopcart_dialog:!1,search:!1,drawerLeft:!1,group_buying_dialog:!1}},computed:{goodsList(){return this.$store.state.goodsList.goodsList},itemList(){return this.$store.getters["shopCart/itemList"]},allItemQnt(){return this.$store.getters["shopCart/allItemQnt"]},allItemPriceAmount(){return this.$store.getters["shopCart/allItemPriceAmount"]}},beforeCreate(){this.$store.dispatch("goodsList/updateGoodsList"),this.$store.dispatch("shopCart/getMyCart")},methods:{create_groupbuy(){this.$store.commit("example/updateGroupState",!0),this.group_buying_dialog=!0},searchblur(t){this.search=!1},openGoodsInfo(t){this.chosenGoods=t,this.dialogGoodsInfo=!0},openShopCart(){this.shopcart_dialog=!0},ItemQnt(t){return this.$store.getters["shopCart/ItemQnt"](t)},logout(){this.$q.loading.show(),this.$user.logout().then((()=>{this.$q.notify({message:"已登出",type:"positive",position:"center",timeout:2e3}),this.$router.push("/auth")})).finally((()=>{this.$q.loading.hide()}))}}},c=l,d=(e("4c4b"),e("2877")),p=e("4d5a"),u=e("e359"),g=e("65c6"),m=e("9c40"),b=e("6ac5"),h=e("2c91"),q=e("58a8"),f=e("27f9"),_=e("0016"),v=e("9404"),x=e("4983"),w=e("1c1c"),y=e("66e5"),k=e("4074"),C=e("f09f"),Q=e("cb32"),I=e("09e3"),L=e("9989"),S=e("adad"),$=e("823b"),G=e("0170"),P=e("24e8"),z=e("de5e"),T=e("429b"),A=e("7460"),B=e("f20b"),D=e("8380"),N=e("714f"),j=e("eebe"),H=e.n(j),J=Object(d["a"])(c,s,o,!1,null,"cdd3512a",null);a["default"]=J.exports;H()(J,"components",{QLayout:p["a"],QHeader:u["a"],QToolbar:g["a"],QBtn:m["a"],QToolbarTitle:b["a"],QSpace:h["a"],QBadge:q["a"],QInput:f["a"],QIcon:_["a"],QDrawer:v["a"],QScrollArea:x["a"],QList:w["a"],QItem:y["a"],QItemSection:k["a"],QCard:C["a"],QAvatar:Q["a"],QPageContainer:I["a"],QPage:L["a"],QTabPanels:S["a"],QTabPanel:$["a"],QItemLabel:G["a"],QDialog:P["a"],QPageSticky:z["a"],QTabs:T["a"],QTab:A["a"],QBtnDropdown:B["a"],QSpinnerDots:D["a"]}),H()(J,"directives",{Ripple:N["a"]})}}]);